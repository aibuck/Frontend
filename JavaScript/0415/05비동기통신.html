<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>비동기 데이터 통신</title>
</head>
<body>
  <script>
    // https://dog.ceo/api/breeds/image/random

    const req = new XMLHttpRequest() //요청하기 객체

    req.open("get","https://dog.ceo/api/breeds/image/random")//요청주소
    
    //요청 잘 처리되었을 때 뭐 할지 정하기(이벤트 핸들링)
    req.addEventListener("load",function(){
      // console.log(req.response) //강아지 소스가 포함된 JSON 형식 문자열

      let result = JSON.parse(req.response)


      const img = document.createElement("img")//이미지 태그 생성
      img.src = result.message // 강아지 소스를 이미지의 소스로 지정
      document.body.appendChild(img)//소스가 지정된 이미지를 바디에 추가
    })

    req.send() //최종 보내기

  </script>
</body>
</html>